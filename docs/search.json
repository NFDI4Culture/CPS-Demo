[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Die barocken Schloss- und Gartenveduten",
    "section": "",
    "text": "Katalog zur Ausstellung: Die barocken Schloss- und Gartenveduten\nEin Katalog mit Kunstwerken aus der CbDD-Sammlung. Textteil: 6e73f774-4b7f-4e37-937b-e11cc35c5bc8\nDie barocken Schloss- und Gartenveduten [Sammlung]\n This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivs 4.0 International License.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Katalog zur Ausstellung: Die barocken Schloss- und Gartenveduten</span>"
    ]
  },
  {
    "objectID": "section.html",
    "href": "section.html",
    "title": "Die barocken Schloss- und Gartenveduten",
    "section": "",
    "text": "Code\nfrom datetime import datetime\nimport sys\nimport time\nfrom SPARQLWrapper import SPARQLWrapper, JSON\nimport requests\nfrom PIL import Image\nimport html\n\nendpoint_url = \"https://computational-publishing-service.wikibase.cloud/query/sparql\"\n\nquery_txt = \"\"\"PREFIX cps: &lt;https://computational-publishing-service.wikibase.cloud/entity/&gt;\nPREFIX cpss: &lt;https://computational-publishing-service.wikibase.cloud/entity/statement/&gt;\nPREFIX cpsv: &lt;https://computational-publishing-service.wikibase.cloud/value/&gt;\nPREFIX cpspt: &lt;https://computational-publishing-service.wikibase.cloud/prop/direct/&gt;\nPREFIX cpsp: &lt;https://computational-publishing-service.wikibase.cloud/prop/&gt;\nPREFIX cpsps: &lt;https://computational-publishing-service.wikibase.cloud/prop/statement/&gt;\nPREFIX cpspq: &lt;https://computational-publishing-service.wikibase.cloud/prop/qualifier/&gt;\n\nSELECT ?textItem ?kuratorLabel ?textUrl\nWHERE\n{\n  &lt;placeholder&gt;\n  ?textItem cpsp:P46 ?kuratorStatement. \n  ?kuratorStatement cpsps:P46 ?kuratorItem. \n  ?kuratorItem rdfs:label ?kuratorLabel.\n  ?textItem cpsp:P57 ?urlstatement. \n  ?urlstatement cpsps:P57 ?textUrl. \n}\"\"\"\n\nquery_img = \"\"\"PREFIX cps: &lt;https://computational-publishing-service.wikibase.cloud/entity/&gt;\nPREFIX cpss: &lt;https://computational-publishing-service.wikibase.cloud/entity/statement/&gt;\nPREFIX cpsv: &lt;https://computational-publishing-service.wikibase.cloud/value/&gt;\nPREFIX cpspt: &lt;https://computational-publishing-service.wikibase.cloud/prop/direct/&gt;\nPREFIX cpsp: &lt;https://computational-publishing-service.wikibase.cloud/prop/&gt;\nPREFIX cpsps: &lt;https://computational-publishing-service.wikibase.cloud/prop/statement/&gt;\nPREFIX cpspq: &lt;https://computational-publishing-service.wikibase.cloud/prop/qualifier/&gt;\n\nSELECT DISTINCT ?itemLabel ?itemDescr ?imgItem ?imgUrl ?publishDate \nWHERE\n{\n  ?imgItem cpsp:P107 ?urlStatement. \n  ?urlStatement cpsps:P107 ?imgUrl. \n  ?imgItem cpsp:P60 ?dateStatement. \n  ?dateStatement cpsps:P60 ?publishDate.\n  ?imgItem cpsp:P6 ?partOfStatement.\n  ?partOfStatement cpsps:P6 ?partOfItem.\n  &lt;placeholder&gt; \n  SERVICE wikibase:label {\n      bd:serviceParam wikibase:language \"de,en\".\n      ?imgItem rdfs:label ?itemLabel.\n      ?imgItem schema:description ?itemDescr.\n    }\n}\"\"\"\nquery_graph = \"\"\"PREFIX cps: &lt;https://computational-publishing-service.wikibase.cloud/entity/&gt;\nPREFIX cpss: &lt;https://computational-publishing-service.wikibase.cloud/entity/statement/&gt;\nPREFIX cpsv: &lt;https://computational-publishing-service.wikibase.cloud/value/&gt;\nPREFIX cpspt: &lt;https://computational-publishing-service.wikibase.cloud/prop/direct/&gt;\nPREFIX cpsp: &lt;https://computational-publishing-service.wikibase.cloud/prop/&gt;\nPREFIX cpsps: &lt;https://computational-publishing-service.wikibase.cloud/prop/statement/&gt;\nPREFIX cpspq: &lt;https://computational-publishing-service.wikibase.cloud/prop/qualifier/&gt;\n\nSELECT ?x ?y\nWHERE\n{\n  ?a cpsp:P2 ?c.\n  ?c cpsps:P2 ?d.\n  ?a rdfs:label ?x.\n  ?d rdfs:label ?y.\n\n}LIMIT 1\"\"\"\n\nquery_graph2 = \"\"\"\nSELECT ?a ?b ?c\nWHERE\n{\n  ?a rdfs:label ?c\n}LIMIT 100\"\"\"\n\n\ndef run_query(endpoint_url, query):\n    user_agent = \"WDQS-example Python/%s.%s\" % (sys.version_info[0], sys.version_info[1])\n    # TODO adjust user agent; see https://w.wiki/CX6\n    sparql = SPARQLWrapper(endpoint_url, agent=user_agent)\n    sparql.setQuery(query)\n    sparql.setMethod(\"POST\") #this NEEDS to be added to get results (not included in the wikibase python example code)\n    sparql.setReturnFormat(JSON)\n    return sparql.query().convert()\n\ndef get_text(textitem_id):\n    q = \"\"\n    if textitem_id:\n        q = query_txt.replace(\"&lt;placeholder&gt;\", \"cps:\"+textitem_id+\" cpsp:P46 ?kuratorStatement.\")\n    else:\n        q = query_txt.replace(\"&lt;placeholder&gt;\",\"\")\n\n    results_txt = run_query(endpoint_url, q)\n    for item in results_txt[\"results\"][\"bindings\"]:\n        print('Wikibase link: ' + '[' + item['textItem']['value'] + ']' + '(' + item['textItem']['value'] + ')' + '\\n')\n        print('Kurator: ' + item['kuratorLabel']['value'] + '\\n')\n        headers = {'User-Agent': 'Ex_Books_conference_bot/0.0 (https://github.com/SimonXIX/Experimental_Books_workshop; ad7588@coventry.ac.uk)'}\n        r = requests.get(item['textUrl']['value'], headers=headers, stream=True)\n        text = str(r.text) #changed from r.content\n        text = text.replace(\"ä\",\"&auml;\") \n        text = text.replace(\"Ä\",\"&Auml;\")\n        text = text.replace(\"ö\",\"&ouml;\")\n        text = text.replace(\"Ö\",\"&Ouml;\")\n        text = text.replace(\"ü\",\"&uuml;\")\n        text = text.replace(\"Ü\",\"&Uuml;\")\n        text = text.replace(\"ß\",\"&szlig;\")\n        text = text.replace('\\\\n',\"&lt;br&gt;\")\n        text = str(text)\n        text = text.removeprefix(\"&lt;!DOCTYPE html&gt;\").removesuffix(\"'\") #changed from b'&lt;!DOCTYPE html&gt;\"\n        print(text)\n\ndef get_delay(date):\n    try:\n        date = datetime.datetime.strptime(date, '%a, %d %b %Y %H:%M:%S GMT')\n        timeout = int((date - datetime.datetime.now()).total_seconds())\n    except ValueError:\n        timeout = int(date)\n    return timeout\n\ndef fetch_image_by_url(url, headers):\n    r = requests.get(url, headers=headers, stream=True)\n    if r.status_code == 200:\n        im = Image.open(r.raw)\n        return im\n    if r.status_code == 500:\n        return None\n    if r.status_code == 403:\n        return None\n    if r.status_code == 429:\n        timeout = get_delay(r.headers['retry-after'])\n        print('Timeout {} m {} s'.format(timeout // 60, timeout % 60))\n        time.sleep(timeout)\n        fetch_image_by_url(url, headers)\n\ndef get_img(partOfItem_id):\n    q = \"\"\n    if partOfItem_id:\n        q = query_img.replace(\"&lt;placeholder&gt;\", \"?partOfStatement cpsps:P6 cps:\"+partOfItem_id+\".\")\n    else:\n        q = query_img.replace(\"&lt;placeholder&gt;\",\"\")\n    results_img = run_query(endpoint_url, q)\n    for item in results_img[\"results\"][\"bindings\"]:    \n      #print(item)\n      print('Wikibase link: ' + '[' + item['imgItem']['value'] + ']' + '(' + item['imgItem']['value'] + ')' + '\\n')\n      print('Title: ' + item['itemLabel']['value'] + '\\n')\n      print('Year: ' + item['publishDate']['value'] + '\\n')\n      print('Description: ' + html.unescape(item['itemDescr']['value']) + '\\n')\n\n      # get image from image URL and display resized version\n      image_url=item['imgUrl']['value']\n      headers = {'User-Agent': 'Ex_Books_conference_bot/0.0 (https://github.com/SimonXIX/Experimental_Books_workshop; ad7588@coventry.ac.uk)'}\n      im = fetch_image_by_url(image_url, headers)\n      im.thumbnail((500, 500), Image.Resampling.LANCZOS)\n      display(im)\n      print('\\n\\n')\n\ndef get_graph():\n    import VizKG.visualize as vkg\n    results_graph1 = run_query(endpoint_url, query_graph)\n    #print(results_graph1)\n    #print('---')\n    results_graph2 = run_query(endpoint_url, query_graph2)\n    #print(results_graph2)\n\n    chart = vkg(sparql_query=query_graph2, sparql_service_url=endpoint_url, chart='wordcloud')\n    chart.plot()\n\n\nCode\nget_text(\"Q232\")\n\nWikibase link: https://computational-publishing-service.wikibase.cloud/entity/Q232\nKurator: Seeger, Ulrike\n\n\n\n\n\n\n\n\nDie Tafelstube\n\n\nBeschreibung\n\n\nÖstlich an den Rittersaal schließt ein großer, 1837 unterteilter Raum an, bei dem es sich um die einstige Tafelstube handelt.[1] Als Eckraum mit vier Doppelfenstern zur Gartenseite und weiteren drei Doppelfenstern zur Grabenseite erhielt die Tafelstube viel Licht. Auch konnte der Fürst von dort aus auf die Stadt und den Lustgarten blicken, der in der Renaissance dem Schloss südöstlich vorgelagert war.[2] Gemessen an der Größe des Raumes war die Tafelstube nicht sehr hoch. Die Decke mit kräftigen Unterzügen ruhte ursprünglich auf vier Stützen, deren Position einem Plan des 19. Jahrhunderts zu entnehmen ist. Die Fensternischen waren in Fortsetzung der Saaldekoration mit Roll- und Beschlagwerk stuckiert, wofür Christoph Limmerich in Frage kommt, der auch im Saal gearbeitet hat.\n\n\nLogistisch gehören zur Tafelstube zwei Service-Kabinetten beiderseits des Durchgangs zwischen Saal und Tafelstube. Sie haben eine geringe Raumhöhe, da über ihnen und dem Durchgang die Empore an der Ostseite des Saals verläuft. Das Kabinett der Gartenseite war von der Tafelstube und vom Durchgang aus zugänglich, das Kabinett der Hofseite außer von der Tafelstube vom Altan aus. Der Altan entlang der Hofseite des Saalbaus verband das hofseitige Kabinett mit der Küche im Erdgeschoss des Küchenbaus, sodass bevorzugt dieses Kabinett dem Anrichten der Speisen gedient haben dürfte. Dank der Verbindung zu dem ja erst in einem zweiten Bauabschnitt errichteten Altan, blieb der Rittersaal vom Transport der Speisen verschont.\n\n\nDer repräsentative Zugang zur Tafelstube erfolgte vom Saal aus, wo der Besucher das imposante Portal mit der Belagerung von Gran (Eszergom) im Hintergrund einer wilden Türkenschlacht, bekrönt von der Skulptur des heiligen Georg zu durchschreiten hatte. Ein zweiter Zugang bestand oder ließ sich zumindest einrichten von der geradeläufigen Treppe im späteren Langenburger Bau.\n\n\nDie ursprüngliche Bezeichnung des Raumes und seine Ausstattung\n\n\nIm Inventar von 1625–27 wurde der Raum im Anschluss an den Saal als „Saalstube“ bezeichnet.[3] Die Wände waren mit 14 Ledertapeten beschlagen. Im Raum standen zwei längsrechtecke Tische, ein quadratischer Tisch und eine „große Landtafel“ sowie 31 Sessel mit Lederbezügen und goldenem Dekor.[4] Im Schadensinventar von 1639 wurde der Raum sodann als „Große Tafelstube“ geführt.[5]\n\n\n[1] Die Jahreszahl der Unterteilung: Merten, Weikersheim, o. J., S. 40; Fandrey, Weikersheim, 2010, S. 51.\n\n\n[2] Münzenmayer/Elfgang, Schlossgarten, 1999, Abb. S. 5.\n\n\n[3] Die Kenntnis dieses Inventars verdankt die Autorin Dinah Rottschäfer.\n\n\n[4] Ebd.\n\n\n[5] HZAN La 130 Bü 152, Schadensinventar von 1639. Die Kenntnis und die Transkription dieser Archivalie verdankt die Autorin Frieder Leipold. Zur Herausbildung der Tafelstube im deutschen Schlossbau der Renaissance: Hoppe, Tafelstube, 2007 (https://adw-goe.de/en/digital-library/hoefe-und-residenzen-im-spaetmittelalterlichen-reich/gsn/rf15_II_121207-196/?tx_find_find%5BunderlyingQuery%5D%5Bq%5D%5Bdefault%5D=tafelstube&tx_find_find%5BunderlyingQuery%5D%5Bposition%5D=1)\n\n\nProgramm und Synthese der einstigen Tafelstube\n\n\nTafelstube und Saal hängen konzeptionell eng zusammen. Während der Saal mit der guten Herrschaft des Grafen Wolfgang einen regionalen Radius beschreibt, weitet sich in der Tafelstube der Horizont auf den Beitrag der Grafschaft Hohenlohe zur Rettung der Christenheit vor osmanischer Herrschaft. Räumlich verknüpft sind die beiden Bildprogramme durch das Relief des Innenportals mit der Belagerung von Gran (Eszergom) 1594 und die Deckenmalerei des Durchgangs, die mit der Beweinung des toten Adonis durch Venus und Amor auf den tragischen Tod des jüngsten Sohnes bei der Belagerung von Gran (Eszergom) 1604 vorausweist. Adonis als passionierter Jäger wiederum verband die Tafelstube mit dem Jagdzyklus an der Decke des Saals.\n\n\n\n\n\nCode\nget_img(\"Q208\")\n\nWikibase link: https://computational-publishing-service.wikibase.cloud/entity/Q283\nTitle: Die barocken Schloss- und Gartenveduten bild\nYear: 2018\nDescription: Bild für Die barocken Schloss- und Gartenveduten\nWikibase link: https://computational-publishing-service.wikibase.cloud/entity/Q283\nTitle: Die barocken Schloss- und Gartenveduten bild\nYear: 2018-01-01T00:00:00Z\nDescription: Bild für Die barocken Schloss- und Gartenveduten\n \n\n\nCode\nget_graph()",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Die barocken Schloss- und Gartenveduten</span>"
    ]
  }
]